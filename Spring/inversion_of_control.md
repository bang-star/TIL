# Inversion Of Control

## Ioc 란?
> 제어의 역전이라는 의미로, 말 그대로 메소드나 객체의 호출작업을 개발자가 결정하는 것이 아니라, 외부에서 결정되는 것을 의미한다.

    - IOC는 제어의 역전이라고 말하며, 간단히 말해 "제어의 흐름을 바꾼다"를 의미한다.
    - 객체의 의존성을 역전시켜 객체 간의 결합도를 줄이고 유연한 코드를 작성할 수 있게 하여 가독성 및 코드 중복, 유지 보수를 편하게 할 수 있게 한다.

    (예시)
    1. IOC가 적용되지 않을 때 
        1) 객체 생성
        2) 의존성 객체 생성 - 클래스 내부에서 생성
        3) 의존성 객체 메소드 호출
    
    2. IOC가 적용될 때
        1) 객체 생성
        2) 의존성 객체 주입(스스로가 만드는 것이 아니라 제어권을 스프링에게 위임하여 만들어진 객체를 사용)
        3_ 의존성 객체 메소드 호출

    => 스프링이 모든 의존성 객체를 스프링이 실행될 때 다 만들어주고 필요한 곳에 주입시켜줌으로써 Bean들은 싱글톤 패턴의 특징을 가지며, 제어의 흐름을 사용자가 컨트롤 하는 것이 아니라 스프링에게 맡겨 작업을 처리하게 된다.

<br />
<hr />
<br />


## 예제를 통한 DI, IOC에 개념 이해

```Java
class Fruits{
    private Apple apple = new Apple();
}
```

 - Fruits 클래스에서 Apple 객체를 불러오는 예제이다. 의존관계는 간단히 말해 new 라는 키워드를 통해 생성된다.
 

 ``` Java
 class Fruits{
    private Apple apple;
    
    public Fruits(Apple apple){
    	this.apple = apple;
    }
}


class Test{
    Apple apple = new Apple();
    Fruits fruits = new Fruits(apple);
}
 ```
- 첫 번째 코드에서는 Apple 객체의 제어권이 Fruits에게 있었다면, 두번 째 코드에서는 Fruits가 아니라 Test 클래스에 있다.
- 이처럼 의존성을 역전시켜 제어권을 직접 갖지 않는 것을 IOC라고 하며, 의존성을 외부에서 주입시켜 주는 것을 DI라고 한다.

<br />
<hr />
<br />


## 왜 사용할까??
- Spring에서는 Spring 컨테이너, IOC 컨테이너라는 개념을 사용한다. 컨테이너는 보통 인스턴스의 생명주기를 관리하며, 생성된 인스턴스들에게 추가적인 기능을 제공하도록 하는 것이라 할 수 있다.
> 즉, 컨테이너란 당신이 작성한 코드의 처리과정을 위임받은 독립적인 존재라고 생각하면 된다. 컨테이너는 적절한설정만 되어있다면 누구의 도움 없이도 작성한 코드를 스스로 참조한뒤 알아서 객체의 생성과 소멸을 컨트롤해준다. 스프링 컨테이너는 스프링 프레임워크의 핵심부에 위치하며, 종속 책체 주입을 이용하여 애플리케이션을 구성하는 컴포넌트들을 관리한다. 이때 스프링 컨테이너에서 생성되는 객체를 Bean이라고 한다.

<참조>
- [Bean]((https://github.com/bang-star/TIL/blob/main/Spring/Bean.md))